<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script>
        function getSize(){
            var size = document.getElementById('capacity').value;
            window.webkitStorageInfo.requestQuota(PERSISTENT,size,function(grantBytes){
                var text = "申请磁盘成功";
                var intBytes;
                if(grantBytes >= (1024*1024*1024)){
                    intBytes  = Math.floor(grantBytes/(1024*1024*1024));
                    text = intBytes + 'GB';
                    grantBytes = grantBytes * (1024*1024*1024);
                }
                if(grantBytes >= (1024*1024)){
                    intBytes  = Math.floor(grantBytes/(1024*1024));
                    text = intBytes + 'GB';
                    grantBytes = grantBytes * (1024*1024);
                }
                if(grantBytes >= (1024)){
                    intBytes  = Math.floor(grantBytes/(1024));
                    text = intBytes + 'GB';
                    grantBytes = grantBytes * (1024);
                }
                text += grantBytes+ "bytes";
                document.getElementById('result').innerHTML = text;
            });
        }
    </script>
</head>
<body>
<form action="">
    <input type="text" id="capacity" value="1024"/><br/>
    <input type="button" value="申请额度" onclick="getSize()"/>
</form>
<output id="result"></output>
</body>
</html>